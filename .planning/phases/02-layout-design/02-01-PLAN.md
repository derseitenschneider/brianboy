---
phase: 02-layout-design
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/styles/global.css
  - src/components/Footer.astro
  - src/i18n/ui.ts
autonomous: true

must_haves:
  truths:
    - "Scroll-reveal animation class is available for use"
    - "Footer displays navigation links and copyright"
    - "Footer respects dark mode"
    - "Animation respects prefers-reduced-motion"
  artifacts:
    - path: "src/styles/global.css"
      provides: "scroll-reveal animation with @supports fallback"
      contains: "animation-timeline: view()"
    - path: "src/components/Footer.astro"
      provides: "Footer with secondary navigation"
      min_lines: 20
    - path: "src/i18n/ui.ts"
      provides: "Footer translation strings"
      contains: "footer.rights"
  key_links:
    - from: "src/components/Footer.astro"
      to: "src/i18n/ui.ts"
      via: "useTranslations import"
      pattern: "useTranslations"
---

<objective>
Add design tokens, scroll-reveal animation system, and Footer component.

Purpose: Establish the CSS animation patterns and create the Footer so Plan 02 can integrate them into the full layout.
Output: Updated global.css with scroll-reveal, Footer.astro component, footer translations.
</objective>

<execution_context>
@/Users/brianboy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/brianboy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-layout-design/02-RESEARCH.md

@src/styles/global.css
@src/i18n/ui.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add scroll-reveal animation and accent color to global.css</name>
  <files>src/styles/global.css</files>
  <action>
Update global.css to add:

1. Add accent-600 color token to @theme (for hover states):
   `--color-accent-600: #0052a3;`

2. Add scroll-reveal animation with proper fallbacks (from research Pattern 5):
   - Wrap in `@supports (animation-timeline: view())` AND `@media (prefers-reduced-motion: no-preference)`
   - Set initial state: `opacity: 0; transform: translateY(20px);`
   - Animation: `animation: reveal-up linear forwards; animation-timeline: view(); animation-range: entry 0% cover 40%;`
   - Define `@keyframes reveal-up` to animate to `opacity: 1; transform: translateY(0);`

3. Add fallback for unsupported browsers:
   - `@supports not (animation-timeline: view())` sets `.scroll-reveal { opacity: 1; transform: none; }`

4. Add reduced motion fallback:
   - `@media (prefers-reduced-motion: reduce)` sets `.scroll-reveal { opacity: 1; transform: none; animation: none; }`

Keep existing dark mode, theme tokens, and transition rules intact.
  </action>
  <verify>
Run `npm run build` - should complete without errors.
Check global.css contains `animation-timeline: view()` and `@supports not`.
  </verify>
  <done>
global.css has scroll-reveal animation class with proper @supports and motion fallbacks.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Footer component with secondary navigation</name>
  <files>src/components/Footer.astro, src/i18n/ui.ts</files>
  <action>
1. Add footer translation strings to ui.ts for both de and en:
   - `"footer.rights": "Alle Rechte vorbehalten."` (de)
   - `"footer.rights": "All rights reserved."` (en)

2. Create Footer.astro following research code example:
   - Import getLangFromUrl, useTranslations, getLocalizedPath from i18n/ui
   - Get current year: `const currentYear = new Date().getFullYear();`
   - Use semantic footer element
   - Classes: `border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900`
   - Container: `max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8`
   - Flex layout: `flex flex-col md:flex-row md:items-center md:justify-between gap-4`
   - Secondary nav with Home and About links using getLocalizedPath
   - Link styles: `text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors`
   - Copyright: `text-sm text-gray-500 dark:text-gray-500`
   - Copyright text format: `&copy; {currentYear} Brian. {t("footer.rights")}`
  </action>
  <verify>
Run `npm run build` - no TypeScript errors.
Check Footer.astro exists with proper structure.
Check ui.ts has footer.rights for both languages.
  </verify>
  <done>
Footer.astro component exists with secondary navigation and copyright.
Translation strings added for footer in both languages.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes successfully
2. global.css contains scroll-reveal animation with @supports blocks
3. Footer.astro renders correctly (will be integrated in Plan 02)
4. ui.ts has footer.rights translations for de and en
</verification>

<success_criteria>
- scroll-reveal CSS class available with proper browser and motion fallbacks
- Footer component created with responsive layout and dark mode support
- Footer uses i18n for translations
- Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-layout-design/02-01-SUMMARY.md`
</output>
