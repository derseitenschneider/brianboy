---
phase: 01-foundation-core-systems
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - astro.config.mjs
  - tsconfig.json
  - src/styles/global.css
  - src/pages/index.astro
  - src/env.d.ts
autonomous: true

must_haves:
  truths:
    - "User can run npm run dev and see a working Astro page"
    - "User can run npm run build and get static HTML output"
    - "Tailwind utility classes work in components"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies"
      contains: "astro"
    - path: "astro.config.mjs"
      provides: "Astro + Tailwind vite plugin configuration"
      contains: "@tailwindcss/vite"
    - path: "src/styles/global.css"
      provides: "Tailwind CSS entry point"
      contains: "@import \"tailwindcss\""
    - path: "src/pages/index.astro"
      provides: "Homepage placeholder"
      min_lines: 10
  key_links:
    - from: "astro.config.mjs"
      to: "@tailwindcss/vite"
      via: "vite.plugins array"
      pattern: "vite:\\s*\\{\\s*plugins:"
    - from: "src/pages/index.astro"
      to: "src/styles/global.css"
      via: "CSS import"
      pattern: "import.*global\\.css"
---

<objective>
Initialize Astro 5.x project with Tailwind CSS v4 using the Vite plugin approach

Purpose: Create the foundational project structure that all subsequent phases build upon. This establishes the build system, dev server, and styling infrastructure.

Output: A working Astro project with Tailwind v4 that builds to static HTML
</objective>

<execution_context>
@/Users/brianboy/.claude/get-shit-done/workflows/execute-plan.md
@/Users/brianboy/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-core-systems/01-RESEARCH.md

Critical research findings:
1. Use @tailwindcss/vite plugin (NOT @astrojs/tailwind - deprecated for v4)
2. CSS-first config with @import "tailwindcss" and @theme directives
3. Site URL must be https://brianboy.ch for sitemap and canonical URLs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Astro project with Tailwind v4</name>
  <files>
    package.json
    astro.config.mjs
    tsconfig.json
    src/env.d.ts
    src/styles/global.css
  </files>
  <action>
Create project files manually (not using create-astro to avoid prompts):

1. Create package.json with:
   - name: "brianboy"
   - type: "module"
   - scripts: dev, build, preview
   - dependencies: astro@^5.16.0, @astrojs/sitemap@^3.0.0
   - devDependencies: tailwindcss@^4.0.0, @tailwindcss/vite@^4.0.0, typescript@^5.0.0

2. Create astro.config.mjs with:
   - site: "https://brianboy.ch"
   - integrations: [sitemap()]
   - vite.plugins: [tailwindcss()]
   - output: "static" (default, explicit for clarity)

3. Create tsconfig.json extending astro/tsconfigs/strict

4. Create src/env.d.ts with Astro client reference

5. Create src/styles/global.css with:
   - @import "tailwindcss";
   - @custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));
   - @theme block with --color-accent-500, --color-accent-400, --font-sans
   - html transition rule for theme changes
   - html:not([data-theme]) rule to prevent initial transition

6. Run npm install

IMPORTANT: Do NOT use @astrojs/tailwind integration - it's deprecated for Tailwind v4.
  </action>
  <verify>
    npm run build completes without errors
    ls dist/ shows generated files
  </verify>
  <done>
    - package.json exists with correct dependencies
    - astro.config.mjs has tailwindcss vite plugin configured
    - global.css has @import "tailwindcss" and @theme block
    - npm install succeeds
    - npm run build produces dist/ directory
  </done>
</task>

<task type="auto">
  <name>Task 2: Create minimal homepage with Tailwind classes</name>
  <files>
    src/pages/index.astro
  </files>
  <action>
Create src/pages/index.astro that:

1. Imports ../styles/global.css at the top of the frontmatter
2. Has a basic HTML structure with lang="de" (German default)
3. Uses Tailwind utility classes to verify CSS is working:
   - Container with max-w-4xl mx-auto p-8
   - h1 with text-4xl font-bold
   - Paragraph with text-lg
   - Dark mode classes: bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100

4. Content should be a placeholder like "Brian Boy - Coming Soon" with German text

This validates the entire Tailwind pipeline works before adding theme toggle.
  </action>
  <verify>
    npm run dev starts successfully
    Visit http://localhost:4321 shows styled page
    Inspect element confirms Tailwind classes are applied
  </verify>
  <done>
    - index.astro exists with Tailwind classes
    - Dev server runs without errors
    - Page displays with correct styling
    - Dark mode classes are present in HTML (not yet toggling - that's Plan 02)
  </done>
</task>

</tasks>

<verification>
After completing both tasks:

1. Run `npm run build` - should complete without errors
2. Run `npm run dev` - should start dev server
3. Visit http://localhost:4321 - should show styled placeholder page
4. Check dist/ folder - should contain static HTML files
5. Verify no console errors about missing dependencies
</verification>

<success_criteria>
- Project initializes with npm install (no errors)
- npm run dev starts Astro dev server
- npm run build generates static dist/ folder
- Tailwind utility classes apply styles correctly
- No @astrojs/tailwind in dependencies (using @tailwindcss/vite instead)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-core-systems/01-01-SUMMARY.md`
</output>
