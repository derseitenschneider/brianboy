@import "tailwindcss";

/* Dark mode using data-theme attribute */
@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

/* Custom theme tokens */
@theme {
  --color-cream: #faf7f2;
  --color-warm-50: #fefdfb;
  --color-warm-100: #fdf9f3;
  --color-warm-200: #f5ece0;
  --color-warm-800: #1c1917;
  --color-warm-900: #131110;
  --color-warm-950: #0c0a09;

  --color-accent-400: #f59e0b;
  --color-accent-500: #d97706;
  --color-accent-600: #b45309;

  --color-ink: #1a1a1a;
  --color-ink-light: #4a4541;
  --color-ink-muted: #8c8279;

  --font-display: "Fraunces", "Georgia", serif;
  --font-sans: "DM Sans", "Helvetica Neue", sans-serif;
}

/* Theme transition */
html {
  transition: background-color 300ms ease, color 300ms ease;
}

html:not([data-theme]) * {
  transition: none !important;
}

/* Grain texture overlay */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  opacity: 0.035;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 200px 200px;
}

/* Scroll-reveal animation */
@supports (animation-timeline: view()) {
  @media (prefers-reduced-motion: no-preference) {
    .scroll-reveal {
      opacity: 0;
      transform: translateY(24px);
      animation: reveal-up linear forwards;
      animation-timeline: view();
      animation-range: entry 0% cover 35%;
    }

    @keyframes reveal-up {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  }
}

@supports not (animation-timeline: view()) {
  .scroll-reveal {
    opacity: 1;
    transform: none;
  }
}

@media (prefers-reduced-motion: reduce) {
  .scroll-reveal {
    opacity: 1;
    transform: none;
    animation: none;
  }
}

/* Staggered entrance animations */
@keyframes fade-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@media (prefers-reduced-motion: no-preference) {
  .animate-fade-up {
    opacity: 0;
    animation: fade-up 0.7s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .animate-fade-in {
    opacity: 0;
    animation: fade-in 0.6s ease forwards;
  }

  .delay-1 { animation-delay: 0.1s; }
  .delay-2 { animation-delay: 0.2s; }
  .delay-3 { animation-delay: 0.3s; }
  .delay-4 { animation-delay: 0.4s; }
  .delay-5 { animation-delay: 0.5s; }
}

@media (prefers-reduced-motion: reduce) {
  .animate-fade-up,
  .animate-fade-in {
    opacity: 1;
    animation: none;
  }
}

/* Work card gradient border effect */
.card-glow {
  position: relative;
  background: white;
  border-radius: 1rem;
  overflow: hidden;
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1), box-shadow 0.3s ease;
}

[data-theme="dark"] .card-glow {
  background: #1c1917;
}

.card-glow::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 1rem;
  padding: 1px;
  background: linear-gradient(135deg, transparent 40%, rgba(217, 119, 6, 0.3) 100%);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.card-glow:hover::before {
  opacity: 1;
}

.card-glow:hover {
  transform: translateY(-4px);
  box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.1);
}

[data-theme="dark"] .card-glow:hover {
  box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.4);
}

/* Drop cap for About page */
.drop-cap::first-letter {
  float: left;
  font-family: "Fraunces", Georgia, serif;
  font-size: 3.5em;
  line-height: 0.8;
  margin-right: 0.08em;
  margin-top: 0.05em;
  color: #d97706;
  font-weight: 500;
}

[data-theme="dark"] .drop-cap::first-letter {
  color: #f59e0b;
}

/* Decorative divider */
.divider-accent {
  width: 3rem;
  height: 3px;
  background: linear-gradient(90deg, #d97706, #f59e0b);
  border-radius: 2px;
}
