@import "tailwindcss";

/* Dark mode using data-theme attribute */
@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

/* Custom theme tokens */
@theme {
  /* Override/extend default colors */
  --color-accent-500: #0066cc;
  --color-accent-600: #0052a3;
  --color-accent-400: #4da3ff;

  /* Custom font stack */
  --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

/* Theme transition - only on color properties to avoid animating layout */
html {
  transition: background-color 200ms ease, color 200ms ease;
}

/* Prevent transitions on initial load */
html:not([data-theme]) * {
  transition: none !important;
}

/* Scroll-reveal animation - CSS-only with proper fallbacks */
@supports (animation-timeline: view()) {
  @media (prefers-reduced-motion: no-preference) {
    .scroll-reveal {
      opacity: 0;
      transform: translateY(20px);
      animation: reveal-up linear forwards;
      animation-timeline: view();
      animation-range: entry 0% cover 40%;
    }

    @keyframes reveal-up {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  }
}

/* Fallback for browsers without animation-timeline support */
@supports not (animation-timeline: view()) {
  .scroll-reveal {
    opacity: 1;
    transform: none;
  }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .scroll-reveal {
    opacity: 1;
    transform: none;
    animation: none;
  }
}
